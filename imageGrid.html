<!-- imageGrid.html -->
<style>
  /* Container using CSS Grid for 2 rows and 4 columns */
  #photoGridContainer {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 1fr);
    /* Vertical gap 0px, horizontal gap 5px */
    gap: 0px 5px;
  }
  /* Each grid-cell contains the preview box and quantity text box */
  .grid-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  /* Preview box: fixed height, 1px solid black border, always visible even if empty */
  .preview-box {
    border: 1px solid black;
    background: #f9f9f9;
    width: 100%;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
  }
  /* Image styling: fill the box with object-fit: cover, default scale 1 */
  .preview-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1);
    transform-origin: center center;
    transition: transform 0.2s ease;
  }
  /* Quantity text box: fixed size 100px wide, 10px tall (reduced from 15px) */
  .quantity-box {
    margin-top: 5px;
    width: 50px;
    height: 5px;
    border: 1px solid black;
    text-align: left;
    font-size: 0.8em;
    padding: 0;
    box-sizing: border-box;
  }
</style>

<div id="photoGridContainer">
  <div class="grid-cell">
    <div class="preview-box" id="previewCell0">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell0" readonly value="">
    <input type="text" class="quantity-box" id="metalCell0" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell1">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell1" readonly value="">
    <input type="text" class="quantity-box" id="metalCell1" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell2">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell2" readonly value="">
    <input type="text" class="quantity-box" id="metalCell2" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell3">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell3" readonly value="">
    <input type="text" class="quantity-box" id="metalCell3" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell4">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell4" readonly value="">
    <input type="text" class="quantity-box" id="metalCell4" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell5">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell5" readonly value="">
    <input type="text" class="quantity-box" id="metalCell5" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell6">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell6" readonly value="">
    <input type="text" class="quantity-box" id="metalCell6" readonly value="">
  </div>
  <div class="grid-cell">
    <div class="preview-box" id="previewCell7">Empty</div>
    <input type="text" class="quantity-box" id="quantityCell7" readonly value="">
    <input type="text" class="quantity-box" id="metalCell7" readonly value="">
  </div>
</div>

<script>
  // Attach a wheel event listener to each preview box for manual zooming.
  document.querySelectorAll('.preview-box').forEach(function(box) {
    box.addEventListener('wheel', function(e) {
      e.preventDefault();
      const img = box.querySelector('img');
      if (!img) return;
      let currentScale = parseFloat(img.dataset.scale) || 1;
      if (e.deltaY < 0) {
        currentScale *= 1.1;
      } else {
        currentScale /= 1.1;
      }
      currentScale = Math.max(1, Math.min(3, currentScale));
      img.dataset.scale = currentScale;
      img.style.transform = `scale(${currentScale})`;
    });
  });
</script>