<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Modals</title>
  <!-- Materialize CSS (ensure this matches your project's version) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <style>
    /* Optional: Custom modal styling */
    .modal { max-height: 90%; }
    .modal .modal-content { overflow-y: auto; }
    /* Style for the inner "Button Config" button */
    #innerButtonConfigBtn {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <!-- Metadata Modal -->
  <div id="metadataModal" class="modal">
    <div class="modal-content">
      <h4>Photo Metadata</h4>
      <textarea id="metadataTextarea" readonly style="width:100%; height:300px;"></textarea>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn">Close</a>
    </div>
  </div>

  <!-- Crop Modal -->
  <div id="cropModal" class="modal">
    <div class="modal-content">
      <h4>Crop Image</h4>
      <div class="img-preview-container" style="text-align: center;">
        <img id="cropImage" src="" alt="Image to crop" style="max-width:100%;">
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" id="saveCropBtn" class="modal-close waves-effect waves-green btn">Save Crop</a>
      <a href="#!" id="cancelCropBtn" class="modal-close waves-effect waves-red btn">Cancel</a>
    </div>
  </div>

  <!-- Configure UI Elements Modal (New) -->
  <div id="buttonConfigModalNew" class="modal">
    <div class="modal-content">
      <h4>Configure UI Elements</h4>
      <!-- Additional Button Config button inside the modal -->
      <button id="innerButtonConfigBtn" class="btn waves-effect waves-light">Button Config</button>
      <div id="uiConfigContainer">
        <!-- Dynamically generated UI configuration inputs go here -->
      </div>
      <textarea id="uiConfigDetails" class="materialize-textarea" rows="2" placeholder="Uploaded configuration details will appear here"></textarea>
    </div>
    <div class="modal-footer">
      <a href="#!" id="saveUIConfigBtn" class="modal-close waves-effect waves-green btn">Save Config</a>
    </div>
  </div>

  <!-- Optionally, add more modals here -->

  <!-- Include jQuery and Materialize JS for modal functionality -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Initialize all Materialize components (including modals)
      M.AutoInit();
      
      // Example: Attach a click listener for the inner Button Config button
      document.getElementById("innerButtonConfigBtn").addEventListener("click", function() {
        console.log("Inner Button Config clicked!");
        // Add your custom behavior here (e.g., refreshing the UI configuration inputs)
      });
    });
  </script>
</body>
</html>